[
  {
    "objectID": "Homework 3.html",
    "href": "Homework 3.html",
    "title": "Control Flow and Functions",
    "section": "",
    "text": "#Task 1: Control Flow Practice\nFor this task I will utilize for loops to manipulate a list.\nFirst, I need to load the R objects I will manipulate.\n\n#Loading R Objects\nload(\"hw2_list.rda\")\n\n\n1.\nWe want to characterize post-treatment blood pressure status for the treatment and placebo/control groups. To do so, we need to create columns each data frame within the list bp_list.\n\n#Creating new character column in treatment data frame\nbp_list$treatment$status &lt;- character(20) \n\n#Creating new character column in placebo data frame\nbp_list$placebo$status &lt;- character(10)\n\n\n\n2.\nNext, we need to assign the correct status label for each patient in the treatment group.\n\n#Creating for loop to assign correct status label to each subject\nfor (i in 1:length(bp_list$treatment$status)) {\n  if (bp_list$treatment$post_bp[i] &lt;= 120) {\n    bp_list$treatment$status[i]&lt;-\"optimal\"\n  } else if ((bp_list$treatment$post_bp[i] &gt; 120) & (bp_list$treatment$post_bp[i] &lt;= 130)) {\n    bp_list$treatment$status[i]&lt;-\"borderline\"\n  } else if (bp_list$treatment$post_bp[i] &gt; 130) {\n    bp_list$treatment$status[i]&lt;-\"high\"\n  }\n}\n\n\n\n3.\nFinally, we need to assign the correct status label for each patient that received the placebo.\n\n#Creating for loop to assign correct status label to each subject\nfor (i in 1:length(bp_list$placebo$status)) {\n  if (bp_list$placebo$post_bp[i] &lt;= 120) {\n    bp_list$placebo$status[i]&lt;-\"optimal\"\n  } else if ((bp_list$placebo$post_bp[i] &gt; 120) & (bp_list$placebo$post_bp[i] &lt;= 130)) {\n    bp_list$placebo$status[i]&lt;-\"borderline\"\n  } else if (bp_list$placebo$post_bp[i] &gt; 130) {\n    bp_list$placebo$status[i]&lt;-\"high\"\n  }\n}\n\n\n\nTask 2: Function Writing\nFor this task, we will write a function designed to take in lists such as ours and produce summary statistics.\n\n1.\n\n#Creating summary statistic function that takes in a list structured as bp_list \n#and exports the summary statistics of choice for pre_bp, post_bp, and diff_bp\n#for the treatment and control group\nsummarize&lt;-function(list,stat=\"mean\") {\n  #Capturing user-specified statistic\n  my_fun&lt;-get(stat)\n  \n  #Capturing names of each data frame in the list\n  df_names&lt;-names(list)\n  \n  #Creating initial vectors for final summary statistic values and metric \"names\"\n  values&lt;-c()\n  value_names&lt;-c()\n  \n  #Setting initial iteration value to keep up with iteration count in loop\n  iter&lt;-1\n  \n  #Running loop to calculate summary statistic values and assign appropriate names\n    #Looping across data frame and columns (within each data frame)\n  for (i in df_names) {\n    for (j in c(\"pre_bp\",\"post_bp\",\"diff_bp\")) {\n      values[iter]&lt;-my_fun(list[[i]][,j]) #Generating summary statistic value\n      value_names[iter]&lt;-paste(i,j,stat,sep=\"_\") #Generating appropriate metric name\n      iter&lt;-iter+1 #Updating iteration count\n    }\n  }\n  \n  #Assigning names to summary statistic values vector\n  names(values)&lt;-value_names\n  \n  #Returning vector of summary statistic values\n  return(values)\n}\n\n#Generating sample means for bp_list\nsummarize(bp_list)\n\n treatment_pre_bp_mean treatment_post_bp_mean treatment_diff_bp_mean \n                131.60                 125.95                   5.65 \n   placebo_pre_bp_mean   placebo_post_bp_mean   placebo_diff_bp_mean \n                131.90                 128.90                   3.00 \n\n#Generating sample variances for bp_list\nsummarize(bp_list,stat=\"var\")\n\n treatment_pre_bp_var treatment_post_bp_var treatment_diff_bp_var \n             75.72632              78.99737             117.81842 \n   placebo_pre_bp_var   placebo_post_bp_var   placebo_diff_bp_var \n            149.87778             124.98889             341.33333 \n\n#Generating sample standard deviations for bp_list\nsummarize(bp_list,stat=\"sd\")\n\n treatment_pre_bp_sd treatment_post_bp_sd treatment_diff_bp_sd \n            8.702087             8.888046            10.854419 \n   placebo_pre_bp_sd   placebo_post_bp_sd   placebo_diff_bp_sd \n           12.242458            11.179843            18.475209 \n\n#Generating sample minimums for bp_list\nsummarize(bp_list,stat=\"min\")\n\n treatment_pre_bp_min treatment_post_bp_min treatment_diff_bp_min \n                  115                   114                   -24 \n   placebo_pre_bp_min   placebo_post_bp_min   placebo_diff_bp_min \n                  114                   105                   -21 \n\n#Generating sample maximums for bp_list\nsummarize(bp_list,stat=\"max\")\n\n treatment_pre_bp_max treatment_post_bp_max treatment_diff_bp_max \n                  151                   146                    21 \n   placebo_pre_bp_max   placebo_post_bp_max   placebo_diff_bp_max \n                  152                   143                    33"
  }
]